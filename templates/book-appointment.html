{% extends 'main.html' %}

{% load static %}

{% block content %}


<!-- SECTION 5: APPOINTMENT BOOKING -->
<div id="appointmentOverlay" class="appointment-overlay"></div>

<aside id="appointmentPanel" class="appointment-panel">
    <div class="panel-header">
        <h2>Book Appointment</h2>
        <button id="closeAppointment" class="close-btn">Ã—</button>
    </div>

    <form id="appointmentForm" class="appointment-form">
        <div class="form-group">
            <label for="fullName">Full Name</label>
            <input id="fullName" name="fullName" type="text" required>
        </div>
        <!-- More form fields -->
        <button type="submit" class="appointment-btn">Submit Appointment</button>
        <p id="appointmentStatus" class="appointment-status"></p>
    </form>
</aside>

<!-- APPOINTMENT - JAVASCRIPT -->
<script>
(function() {
    const openLink = document.querySelector('.btn-book');
    const closeBtn = document.getElementById('closeAppointment');
    const panel = document.getElementById('appointmentPanel');
    const overlay = document.getElementById('appointmentOverlay');
    const form = document.getElementById('appointmentForm');

    function openPanel(e) {
        e.preventDefault();
        panel.classList.add('open');``
        overlay.classList.add('show');
    }

    function closePanel() {
        panel.classList.remove('open');
        overlay.classList.remove('show');
    }

    if (openLink) openLink.addEventListener('click', openPanel);
    if (closeBtn) closeBtn.addEventListener('click', closePanel);
    if (overlay) overlay.addEventListener('click', closePanel);

    if (form) {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            document.getElementById('appointmentStatus').textContent = 'Appointment submitted successfully!';
            form.reset();
            setTimeout(closePanel, 1500);
        });
    }
})();
</script>

{% endblock %}